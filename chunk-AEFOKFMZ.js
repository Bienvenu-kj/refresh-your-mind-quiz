import{a as E}from"./chunk-K5MPHHVZ.js";import{A as x,B as z,C as c,D as l,a as p,g as b,h as g,i as w,j as _,k as v,l as a,m as r,n as C,p as S,s as q,t as y,u as P,v as i,w as o,x as M,y as O,z as D}from"./chunk-PIXXCZSO.js";function k(d,n){if(d&1){let t=O();i(0,"button",14,0),D("click",function(u){let s=g(t).$implicit,m=z(1),h=x();return w(h.validerReponse(u,m,s,h.question))}),c(2),o()}if(d&2){let t=n.$implicit,e=x();S("good-answer",e.thereIsWrongChoice()&&t===e.question.answer&&e.ChoiceAlreadyDone()),r(2),l(" ",t," ")}}var f=class d{quizS=b(E);subscription_question;subscription_score;subscription_vies;question;score=a(0);vies=a(5);ChoiceAlreadyDone=a(!1);thereIsWrongChoice=a(!1);sontDesactives=a(!0);buttons=document.getElementsByClassName("choice_button");ngOnInit(){this.quizS.getQuestions(),this.subscription_question=this.quizS.question_observ.subscribe({next:n=>{this.question=n}}),this.subscription_score=this.quizS.score.subscribe({next:n=>{this.score.set(n)}}),this.subscription_vies=this.quizS.vies.subscribe({next:n=>{this.vies.set(n)}})}ngOnDestroy(){this.subscription_question.unsubscribe()}validerReponse(n,t,e,u){return p(this,null,function*(){let s=n.target,m=u.answer;t.classList.toggle("onChoose-answer"),this.ChoiceAlreadyDone.set(!0),yield this.quizS.attendrePendant(2e3),this.activOuDesactiveButtons(this.buttons),e===u.answer?(s.classList.toggle("good-answer"),yield this.quizS.attendrePendant(3500),this.quizS.upDateScore(!0)):(s.classList.toggle("wrong-answer"),this.thereIsWrongChoice.set(!0),yield this.quizS.attendrePendant(3500),this.quizS.upDateScore(!1),this.quizS.upDateLife()),yield this.quizS.attendrePendant(1500),this.quizS.putQuestionDone(u,e,m),this.activOuDesactiveButtons(this.buttons),this.ChoiceAlreadyDone.set(!1),this.thereIsWrongChoice.set(!1),s.classList.remove("wrong-answer"),s.classList.remove("good-answer"),t.classList.remove("onChoose-answer"),this.quizS.sendQuestion()})}activOuDesactiveButtons(n){if(this.sontDesactives.set(!this.sontDesactives()),this.sontDesactives())for(let t of n){let e=t;e.disabled=!1}else for(let t of n){let e=t;e.disabled=!0}}questionSuivant(n){return p(this,null,function*(){throw new Error("not implemented")})}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=C({type:d,selectors:[["app-gaming-page"]],decls:19,vars:3,consts:[["buttonChoix",""],[1,"container","p-4","min-[630px]:px-4","min-[630px]:py-16","h-full","relative","max-w-screen-sm","m-auto","flex","flex-col","items-center","justify-between"],[1,"w-full","h-15","flex","justify-between","items-center","p-4","rounded-[44px]",2,"box-shadow","1px 1px 20px #ffd166 inset"],[1,"font-bold","text-[17px]","text-[#073b4c]","flex","gap-x-2","items-center"],[1,"text-[#073b4c]","font-bold","relative","border","border-[#ffd166]","rounded-[50px]","p-1"],[1,"flex","gap-x-1","items-center","h-full"],[1,"h-full","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","rgb(127, 29, 29)","viewBox","0 0 24 24","stroke-width","1.5","stroke","#ffd166","aria-hidden","true","data-slot","icon",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"],[1,"font-bold","relative","bottom-[1px]","text-[#ffd166]"],[1,"w-full","rounded-[44px]","flex","flex-col","max-[630px]:gap-y-6","min-[630px]:flex-row","items-center","min-[630px]:justify-between","p-4",2,"box-shadow","0 0 15px #ffd1665d"],["id","questions",1,"question-aimation","text-[#073b4c]","border-3","font-semibold","text-xl","border-[#073b4c]","p-6","max-w-[308px]","max-h-[187px]","rounded-[27px]","bg-transparent","flex","items-center","justify-center",2,"box-shadow","1px 1px 20px #ffd166"],["id","answers",1,"flex","flex-col","gap-5"],[1,"tracking-wider","border-3","text-[#073b4c]","font-bold","w-[192px]","h-[57px]","rounded-[44px]","choice_button",3,"good-answer"],[1,"tracking-wider","border-3","text-[#073b4c]","font-bold","w-[192px]","h-[57px]","rounded-[44px]","choice_button",3,"click"]],template:function(t,e){t&1&&(i(0,"div",1)(1,"header",2)(2,"div",3),c(3,"score "),i(4,"span",4),c(5),o()(),i(6,"div",5)(7,"div",6),_(),i(8,"svg",7),M(9,"path",8),o()(),v(),i(10,"div",6)(11,"span",9),c(12),o()()()(),i(13,"main",10)(14,"div",11),c(15),o(),i(16,"div",12),y(17,k,3,3,"button",13,q),o()()()),t&2&&(r(5),l(" ",e.score()," "),r(7),l(" ",e.vies()," "),r(3),l(" ",e.question?e.question.question:""," "),r(2),P(e.question.choices))},styles:["@media (width > 630px) and (width<1060px){#questions[_ngcontent-%COMP%]{text-shadow:0 0 20px #ffc62d}}@keyframes _ngcontent-%COMP%_animateQuest{20%,65%{box-shadow:1px 1px 40px #ffd166}45%{box-shadow:1px 1px 5px #ffd166}70%{box-shadow:1px 1px 20px #ffd166}to{box-shadow:1px 1px 17px #ffd166}}.question-aimation[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_animateQuest;animation-duration:30s;animation-timing-function:ease-in-out;animation-iteration-count:infinite;animation-delay:0ms;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_onChoose-answer-animation{0%{border-color:#f0c460;box-shadow:1px 1px 20px #f0c460 inset}to{border-color:#ffd166;box-shadow:1px 1px 20px #ffd166}}.onChoose-answer[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_onChoose-answer-animation;animation-timing-function:ease;animation-duration:.5s;animation-iteration-count:5}@keyframes _ngcontent-%COMP%_good-answer-animation{0%{border-color:#073b4c;box-shadow:1px 1px 20px #ffd166 inset}to{border-color:green;box-shadow:0 0 15px #008000a4 inset}}.good-answer[_ngcontent-%COMP%]{border-color:green;animation-name:_ngcontent-%COMP%_good-answer-animation;animation-timing-function:ease;animation-duration:.4s;animation-iteration-count:6}@keyframes _ngcontent-%COMP%_wrong-answer-animation{0%{border-color:#073b4c;box-shadow:1px 1px 20px #ffd166 inset}to{border-color:#7f1d1d;box-shadow:0 0 10px #7f1d1da4 inset}}.wrong-answer[_ngcontent-%COMP%]{border-color:#7f1d1d;animation-name:_ngcontent-%COMP%_wrong-answer-animation;animation-timing-function:ease;animation-duration:.4s;animation-iteration-count:6}"]})};export{f as default};
